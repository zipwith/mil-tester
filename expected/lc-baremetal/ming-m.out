struct Coord / 2
  [ row :: Stored (Ix 25)  {- offset=0 -}
  | col :: Stored (Ix 80)  {- offset=1 -} ]
  aligned 1

data Unit
  = Unit

struct Window / 7
  [ topleft :: Coord  {- offset=0 -}
  | bottomright :: Coord  {- offset=2 -}
  | current :: Coord  {- offset=4 -}
  | attr :: Stored (Bit 8)  {- offset=6 -} ]
  aligned 8

-----------------------------------------
-- not recursive
s130 :: Unit
s130 <-
  Unit()

-----------------------------------------
-- not recursive
b802 :: [] >>= [Unit]
b802[] =
  return s130

-----------------------------------------
-- recursive
b919 :: [Bit 32, Bit 32] >>= [Unit]
b919[t0, t1] =
  t2 <- store8((t0, 0))
  t3 <- add((t1, 1))
  t4 <- add((t0, 1))
  b918[t4, t3]
b918 :: [Bit 32, Bit 32] >>= [Unit]
b918[t0, t1] =
  t2 <- primUlt((t1, 32))
  if t2
    then b919[t0, t1]
    else b802[]

-----------------------------------------
-- not recursive
itoaBuf :: Bit 32
itoaBuf <- area (Array 32 (Stored (Bit 8))) aligned 1

-----------------------------------------
-- recursive
b593 :: [Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b593[t0, t1, t2, t3] =
  t4 <- mul((t3, 160))
  t5 <- mul((t0, 2))
  t6 <- add((t4, t5))
  t7 <- add((t6, 753664))
  t8 <- shl((t2, 8))
  t9 <- or((t8, 32))
  t10 <- store16((t7, t9))
  t11 <- add((t0, 1))
  t12 <- primUle((t11, t1))
  if t12
    then b593[t11, t1, t2, t3]
    else b802[]

-----------------------------------------
-- recursive
b595 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b595[t0, t1, t2, t3, t4] =
  t5 <- b593[t4, t3, t2, t0]
  t6 <- add((t0, 1))
  t7 <- primUle((t6, t1))
  if t7
    then b595[t6, t1, t2, t3, t4]
    else b802[]

-----------------------------------------
-- not recursive
str0 :: Bit 32
str0 <- "Trivial kernel has booted!\n"

-----------------------------------------
-- not recursive
b924 :: [Bit 32] >>= [Unit]
b924[t0] =
  outb((1016, t0))

-----------------------------------------
-- recursive
b251 :: [Bit 32] >>= [Unit]
b251[t0] =
  t1 <- inb((1021))
  t2 <- and((t1, 96))
  t3 <- primEq((t2, 0))
  if t3
    then b251[t0]
    else b924[t0]

-----------------------------------------
-- recursive
b600 :: [Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b600[t0, t1, t2, t3] =
  t4 <- mul((t3, 160))
  t5 <- mul((t0, 2))
  t6 <- add((t4, t5))
  t7 <- add((t6, 753664))
  t8 <- shl((t2, 8))
  t9 <- or((t8, 32))
  t10 <- store16((t7, t9))
  t11 <- add((t0, 1))
  t12 <- primUle((t11, t1))
  if t12
    then b600[t11, t1, t2, t3]
    else b802[]

-----------------------------------------
-- recursive
b603 :: [Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b603[t0, t1, t2, t3] =
  t4 <- mul((t3, 160))
  t5 <- mul((t0, 2))
  t6 <- add((t4, t5))
  t7 <- add((t6, 753664))
  t8 <- mul((t2, 160))
  t9 <- add((t8, t5))
  t10 <- add((t9, 753664))
  t11 <- load16((t7))
  t12 <- store16((t10, t11))
  t13 <- add((t0, 1))
  t14 <- primUle((t13, t1))
  if t14
    then b603[t13, t1, t2, t3]
    else b802[]

-----------------------------------------
-- recursive
b680 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b680[t0, t1, t2, t3, t4, t5] =
  t6 <- b603[t3, t2, t0, t5]
  b1052[1, t5, t1, t4, t3, t2]
b1052 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b1052[t0, t1, t2, t3, t4, t5] =
  t6 <- add((t1, t0))
  t7 <- primUle((t6, t2))
  if t7
    then b680[t1, t2, t5, t4, t3, t6]
    else b600[t4, t5, t3, t2]

-----------------------------------------
-- not recursive
b362 :: [Bit 32] >>= [Unit]
b362[t0] =
  t1 <- load8((t0))
  t2 <- add((t0, 1))
  t3 <- load8((t2))
  t4 <- add((t0, 2))
  t5 <- load8((t4))
  t6 <- add((t0, 3))
  t7 <- load8((t6))
  t8 <- add((t0, 6))
  t9 <- load8((t8))
  t10 <- add((t1, 1))
  t11 <- primUle((t10, t5))
  if t11
    then b680[t1, t5, t7, t3, t9, t10]
    else b600[t3, t7, t9, t5]

-----------------------------------------
-- not recursive
b1059 :: [Bit 32, Bit 32] >>= [Unit]
b1059[t0, t1] =
  t2 <- add((t1, 4))
  store8((t2, t0))

-----------------------------------------
-- not recursive
b351 :: [Bit 32, Bit 32] >>= [Unit]
b351[t0, t1] =
  t2 <- add((t1, 1))
  t3 <- add((t1, 5))
  t4 <- load8((t2))
  t5 <- store8((t3, t4))
  t6 <- add((t1, 2))
  t7 <- load8((t6))
  t8 <- add((t0, 1))
  t9 <- primUle((t8, t7))
  if t9
    then b1059[t8, t1]
    else b362[t1]

-----------------------------------------
-- not recursive
b1063 :: [Bit 32, Bit 32] >>= [Unit]
b1063[t0, t1] =
  t2 <- add((t1, 5))
  store8((t2, t0))

-----------------------------------------
-- not recursive
b339 :: [Bit 32, Bit 32, Bit 32] >>= [Unit]
b339[t0, t1, t2] =
  t3 <- add((t1, 5))
  t4 <- load8((t3))
  t5 <- add((t1, 6))
  t6 <- load8((t5))
  t7 <- mul((t2, 160))
  t8 <- mul((t4, 2))
  t9 <- add((t7, t8))
  t10 <- add((t9, 753664))
  t11 <- and((t0, 255))
  t12 <- shl((t6, 8))
  t13 <- or((t11, t12))
  t14 <- store16((t10, t13))
  t15 <- add((t1, 3))
  t16 <- load8((t15))
  t17 <- add((t4, 1))
  t18 <- primUle((t17, t16))
  if t18
    then b1063[t17, t1]
    else b351[t2, t1]

-----------------------------------------
-- not recursive
b342 :: [Bit 32, Bit 32, Bit 32] >>= [Unit]
b342[t0, t1, t2] =
  t3 <- primEq((t2, 10))
  if t3
    then b351[t0, t1]
    else b339[t2, t1, t0]

-----------------------------------------
-- not recursive
b629 :: [Bit 32, Bit 32] >>= [Unit]
b629[t0, t1] =
  t2 <- add((t1, 4))
  t3 <- load8((t2))
  t4 <- primEq((t0, 13))
  if t4
    then b351[t3, t1]
    else b342[t3, t1, t0]

-----------------------------------------
-- recursive
b1081 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b1081[t0, t1, t2, t3, t4, t5, t6] =
  t7 <- b600[t0, t1, t2, t3]
  b940[t5, t6]
b953 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b953[t0, t1, t2, t3, t4, t5, t6] =
  t7 <- mul((t3, 160))
  t8 <- mul((t0, 2))
  t9 <- add((t7, t8))
  t10 <- add((t9, 753664))
  t11 <- shl((t2, 8))
  t12 <- or((t11, 32))
  t13 <- store16((t10, t12))
  t14 <- add((t0, 1))
  t15 <- primUle((t14, t1))
  if t15
    then b1081[t14, t1, t2, t3, t4, t5, t6]
    else b940[t5, t6]
b951 :: [Bit 32, Bit 32, Bit 32] >>= [Unit]
b951[t0, t1, t2] =
  t3 <- load8((t0))
  t4 <- add((t0, 1))
  t5 <- load8((t4))
  t6 <- add((t0, 2))
  t7 <- load8((t6))
  t8 <- add((t0, 3))
  t9 <- load8((t8))
  t10 <- add((t0, 6))
  t11 <- load8((t10))
  t12 <- add((t3, 1))
  t13 <- primUle((t12, t7))
  if t13
    then b1076[t12, t3, t7, t9, t5, t11, t1, t2, t0]
    else b953[t5, t9, t11, t7, t1, t2, t0]
b1076 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b1076[t0, t1, t2, t3, t4, t5, t6, t7, t8] =
  t9 <- b603[t4, t3, t1, t0]
  t10 <- b1052[1, t0, t2, t5, t4, t3]
  b940[t7, t8]
b949 :: [Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b949[t0, t1, t2, t3] =
  t4 <- add((t1, 1))
  t5 <- add((t1, 5))
  t6 <- load8((t4))
  t7 <- store8((t5, t6))
  t8 <- add((t1, 2))
  t9 <- load8((t8))
  t10 <- add((t0, 1))
  t11 <- primUle((t10, t9))
  if t11
    then b1072[t10, t1, t2, t3]
    else b951[t1, t2, t3]
b1072 :: [Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b1072[t0, t1, t2, t3] =
  t4 <- add((t1, 4))
  t5 <- store8((t4, t0))
  b940[t3, t1]
b958 :: [Bit 32, Bit 32, Bit 32] >>= [Unit]
b958[t0, t1, t2] =
  t3 <- add((t1, 4))
  t4 <- load8((t3))
  t5 <- primEq((t0, 13))
  if t5
    then b949[t4, t1, t0, t2]
    else b980[t4, t1, t0, t2]
b980 :: [Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b980[t0, t1, t2, t3] =
  t4 <- primEq((t2, 10))
  if t4
    then b949[t0, t1, t2, t3]
    else b1069[t2, t1, t0, t3]
b1069 :: [Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b1069[t0, t1, t2, t3] =
  t4 <- add((t1, 5))
  t5 <- load8((t4))
  t6 <- add((t1, 6))
  t7 <- load8((t6))
  t8 <- mul((t2, 160))
  t9 <- mul((t5, 2))
  t10 <- add((t8, t9))
  t11 <- add((t10, 753664))
  t12 <- and((t0, 255))
  t13 <- shl((t7, 8))
  t14 <- or((t12, t13))
  t15 <- store16((t11, t14))
  t16 <- add((t1, 3))
  t17 <- load8((t16))
  t18 <- add((t5, 1))
  t19 <- primUle((t18, t17))
  if t19
    then b1067[t18, t1, t0, t3]
    else b949[t2, t1, t0, t3]
b1067 :: [Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b1067[t0, t1, t2, t3] =
  t4 <- add((t1, 5))
  t5 <- store8((t4, t0))
  b940[t3, t1]
b942 :: [Bit 32, Bit 32, Bit 32] >>= [Unit]
b942[t0, t1, t2] =
  t3 <- add((t1, 1))
  t4 <- b251[t0]
  t5 <- primEq((t0, 10))
  if t5
    then b947[t0, t2, t3]
    else b958[t0, t2, t3]
b947 :: [Bit 32, Bit 32, Bit 32] >>= [Unit]
b947[t0, t1, t2] =
  t3 <- b251[13]
  t4 <- b629[t0, t1]
  b940[t2, t1]
b940 :: [Bit 32, Bit 32] >>= [Unit]
b940[t0, t1] =
  t2 <- load8((t0))
  t3 <- primEq((t2, 0))
  if t3
    then b802[]
    else b942[t2, t0, t1]

-----------------------------------------
-- not recursive
console :: Bit 32
console <- area Window aligned 8

-----------------------------------------
-- not recursive
str12 :: Bit 32
str12 <- "Headers:\n"

-----------------------------------------
-- not recursive
str2 :: Bit 32
str2 <- " "

-----------------------------------------
-- not recursive
str3 :: Bit 32
str3 <- "["

-----------------------------------------
-- not recursive
b649 :: [Bit 32, Bit 32] >>= [Unit]
b649[t0, t1] =
  t2 <- b251[13]
  t3 <- add((t1, 4))
  t4 <- load8((t3))
  t5 <- primEq((t0, 13))
  if t5
    then b351[t4, t1]
    else b342[t4, t1, t0]

-----------------------------------------
-- not recursive
b651 :: [Bit 32, Bit 32] >>= [Unit]
b651[t0, t1] =
  t2 <- b251[t0]
  t3 <- primEq((t0, 10))
  if t3
    then b649[t0, t1]
    else b629[t0, t1]

-----------------------------------------
-- recursive
b1093 :: [Bit 32, Bit 32, Bit 32] >>= [Unit]
b1093[t0, t1, t2] =
  t3 <- b651[t1, t2]
  t4 <- add((t0, 1))
  t5 <- primUle((t4, 0))
  if t5
    then b1093[t4, t1, t2]
    else b802[]

-----------------------------------------
-- not recursive
b1091 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b1091[t0, t1, t2, t3, t4] =
  t5 <- add((t1, t0))
  t6 <- primUle((t5, t2))
  if t6
    then b1093[t5, t4, t3]
    else b802[]

-----------------------------------------
-- recursive
b732 :: [Bit 32, Bit 32] >>= [Unit]
b732[t0, t1] =
  t2 <- add((itoaBuf, t0))
  t3 <- load8((t2))
  t4 <- b651[t3, t1]
  t5 <- add((t0, -1))
  t6 <- primSle((0, t5))
  if t6
    then b732[t5, t1]
    else b802[]

-----------------------------------------
-- not recursive
b737 :: [Bit 32, Bit 32, Bit 32] >>= [Unit]
b737[t0, t1, t2] =
  t3 <- b1091[1, t2, 0, t1, t0]
  b732[t2, t1]

-----------------------------------------
-- recursive
b881 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b881[t0, t1, t2, t3, t4, t5] =
  t6 <- add((t0, 87))
  t7 <- and((t6, 255))
  b880[t1, t7, t2, t3, t4, t5]
b879 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b879[t0, t1, t2, t3, t4, t5] =
  t6 <- add((t0, 48))
  t7 <- and((t6, 255))
  b880[t1, t7, t2, t3, t4, t5]
b880 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b880[t0, t1, t2, t3, t4, t5] =
  t6 <- store8((t0, t1))
  t7 <- add((t3, 1))
  t8 <- primUle((t7, 31))
  if t8
    then b1116[t7, t2, t3, t4, t5]
    else b737[t5, t4, t3]
b1116 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b1116[t0, t1, t2, t3, t4] =
  t5 <- nzdiv((t1, 10))
  t6 <- primEq((t5, 0))
  if t6
    then b737[t4, t3, t2]
    else b734[t5, t0, t3, t4]
b734 :: [Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b734[t0, t1, t2, t3] =
  t4 <- add((itoaBuf, t1))
  t5 <- nzrem((t0, 10))
  t6 <- primUle((t5, 9))
  if t6
    then b879[t5, t4, t0, t1, t2, t3]
    else b881[t5, t4, t0, t1, t2, t3]

-----------------------------------------
-- not recursive
b758 :: [Bit 32] >>= [Unit]
b758[t0] =
  t1 <- load8((itoaBuf))
  t2 <- b651[t1, t0]
  return s130

-----------------------------------------
-- not recursive
b1100 :: [Bit 32, Bit 32, Bit 32] >>= [Unit]
b1100[t0, t1, t2] =
  t3 <- b651[t1, t2]
  t4 <- b1091[1, t0, 0, t2, t1]
  t5 <- load8((itoaBuf))
  t6 <- b651[t5, t2]
  return s130

-----------------------------------------
-- not recursive
b1098 :: [Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b1098[t0, t1, t2, t3] =
  t4 <- add((t1, t0))
  t5 <- primUle((t4, t1))
  if t5
    then b1100[t4, t2, t3]
    else b758[t3]

-----------------------------------------
-- not recursive
b885 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b885[t0, t1, t2, t3, t4] =
  t5 <- add((t0, 87))
  t6 <- and((t5, 255))
  t7 <- store8((t1, t6))
  t8 <- nzdiv((t2, 10))
  t9 <- primEq((t8, 0))
  if t9
    then b1098[1, 0, t4, t3]
    else b734[t8, 1, t3, t4]

-----------------------------------------
-- not recursive
b883 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b883[t0, t1, t2, t3, t4] =
  t5 <- add((t0, 48))
  t6 <- and((t5, 255))
  t7 <- store8((t1, t6))
  t8 <- nzdiv((t2, 10))
  t9 <- primEq((t8, 0))
  if t9
    then b1098[1, 0, t4, t3]
    else b734[t8, 1, t3, t4]

-----------------------------------------
-- not recursive
b714 :: [Bit 32, Bit 32, Bit 32] >>= [Unit]
b714[t0, t1, t2] =
  t3 <- nzrem((t2, 10))
  t4 <- primUle((t3, 9))
  if t4
    then b883[t3, itoaBuf, t2, t0, t1]
    else b885[t3, itoaBuf, t2, t0, t1]

-----------------------------------------
-- not recursive
str4 :: Bit 32
str4 <- "]: "

-----------------------------------------
-- not recursive
str6 :: Bit 32
str6 <- "[0x"

-----------------------------------------
-- not recursive
str7 :: Bit 32
str7 <- "-0x"

-----------------------------------------
-- not recursive
str8 :: Bit 32
str8 <- "], entry 0x"

-----------------------------------------
-- recursive
b889 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b889[t0, t1, t2, t3, t4, t5] =
  t6 <- add((t0, 87))
  t7 <- and((t6, 255))
  b888[t1, t7, t2, t3, t4, t5]
b887 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b887[t0, t1, t2, t3, t4, t5] =
  t6 <- add((t0, 48))
  t7 <- and((t6, 255))
  b888[t1, t7, t2, t3, t4, t5]
b888 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b888[t0, t1, t2, t3, t4, t5] =
  t6 <- store8((t0, t1))
  t7 <- add((t3, 1))
  t8 <- primUle((t7, 31))
  if t8
    then b1104[t7, t2, t3, t4, t5]
    else b737[t5, t4, t3]
b1104 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b1104[t0, t1, t2, t3, t4] =
  t5 <- lshr((t1, 4))
  t6 <- primEq((t5, 0))
  if t6
    then b737[t4, t3, t2]
    else b750[t5, t0, t3, t4]
b750 :: [Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b750[t0, t1, t2, t3] =
  t4 <- add((itoaBuf, t1))
  t5 <- and((t0, 15))
  t6 <- primUle((t5, 9))
  if t6
    then b887[t5, t4, t0, t1, t2, t3]
    else b889[t5, t4, t0, t1, t2, t3]

-----------------------------------------
-- not recursive
b893 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b893[t0, t1, t2, t3, t4] =
  t5 <- add((t0, 87))
  t6 <- and((t5, 255))
  t7 <- store8((t1, t6))
  t8 <- lshr((t2, 4))
  t9 <- primEq((t8, 0))
  if t9
    then b1098[1, 0, t4, t3]
    else b750[t8, 1, t3, t4]

-----------------------------------------
-- not recursive
b891 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b891[t0, t1, t2, t3, t4] =
  t5 <- add((t0, 48))
  t6 <- and((t5, 255))
  t7 <- store8((t1, t6))
  t8 <- lshr((t2, 4))
  t9 <- primEq((t8, 0))
  if t9
    then b1098[1, 0, t4, t3]
    else b750[t8, 1, t3, t4]

-----------------------------------------
-- not recursive
b697 :: [Bit 32, Bit 32, Bit 32] >>= [Unit]
b697[t0, t1, t2] =
  t3 <- and((t2, 15))
  t4 <- primUle((t3, 9))
  if t4
    then b891[t3, itoaBuf, t2, t0, t1]
    else b893[t3, itoaBuf, t2, t0, t1]

-----------------------------------------
-- not recursive
str5 :: Bit 32
str5 <- "\n"

-----------------------------------------
-- not recursive
str14 :: Bit 32
str14 <- "Memory map:\n"

-----------------------------------------
-- not recursive
str9 :: Bit 32
str9 <- "[0x"

-----------------------------------------
-- not recursive
str10 :: Bit 32
str10 <- "-0x"

-----------------------------------------
-- not recursive
str11 :: Bit 32
str11 <- "]"

-----------------------------------------
-- not recursive
str16 :: Bit 32
str16 <- "Strings:\n"

-----------------------------------------
-- not recursive
str17 :: Bit 32
str17 <- "cmdline"

-----------------------------------------
-- not recursive
str19 :: Bit 32
str19 <- " "

-----------------------------------------
-- not recursive
str18 :: Bit 32
str18 <- "imgline"

-----------------------------------------
-- not recursive
str20 :: Bit 32
str20 <- ": "

-----------------------------------------
-- not recursive
str21 :: Bit 32
str21 <- " ["

-----------------------------------------
-- not recursive
str22 :: Bit 32
str22 <- "]\n"

-----------------------------------------
-- not recursive
str1 :: Bit 32
str1 <- "Halting kernel, returning to mimgload\n"

-----------------------------------------
-- not recursive
b1021 :: [] >>= [Unit]
b1021[] =
  t0 <- b940[str16, console]
  t1 <- load32((4104))
  t2 <- b940[str19, console]
  t3 <- b940[str17, console]
  t4 <- b940[str20, console]
  t5 <- b940[t1, console]
  t6 <- b940[str21, console]
  t7 <- b697[console, 32, t1]
  t8 <- b940[str22, console]
  t9 <- load32((4108))
  t10 <- b940[str19, console]
  t11 <- b940[str18, console]
  t12 <- b940[str20, console]
  t13 <- b940[t9, console]
  t14 <- b940[str21, console]
  t15 <- b697[console, 32, t9]
  t16 <- b940[str22, console]
  t17 <- load8((str1))
  t18 <- primEq((t17, 0))
  if t18
    then b802[]
    else b942[t17, str1, console]

-----------------------------------------
-- recursive
b1128 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b1128[t0, t1, t2, t3, t4] =
  t5 <- add((t1, t2))
  t6 <- add((t0, -1))
  t7 <- b940[str2, console]
  t8 <- b940[t3, console]
  t9 <- b940[str3, console]
  t10 <- b714[console, 32, t4]
  t11 <- b940[str4, console]
  t12 <- b940[str9, console]
  t13 <- load32((t1))
  t14 <- b697[console, 32, t13]
  t15 <- b940[str10, console]
  t16 <- add((t1, 4))
  t17 <- load32((t16))
  t18 <- b697[console, 32, t17]
  t19 <- b940[str11, console]
  t20 <- b940[str5, console]
  t21 <- add((t4, 1))
  t22 <- primEq((t6, 0))
  if t22
    then b1021[]
    else b1128[t6, t5, 8, t3, t21]

-----------------------------------------
-- not recursive
str15 :: Bit 32
str15 <- "mmap"

-----------------------------------------
-- not recursive
b1025 :: [] >>= [Unit]
b1025[] =
  t0 <- b940[str14, console]
  t1 <- load32((4100))
  t2 <- load32((t1))
  t3 <- add((t1, 4))
  t4 <- primEq((t2, 0))
  if t4
    then b1021[]
    else b1128[t2, t3, 8, str15, 0]

-----------------------------------------
-- recursive
b1131 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b1131[t0, t1, t2, t3, t4] =
  t5 <- add((t1, t2))
  t6 <- add((t0, -1))
  t7 <- b940[str2, console]
  t8 <- b940[t3, console]
  t9 <- b940[str3, console]
  t10 <- b714[console, 32, t4]
  t11 <- b940[str4, console]
  t12 <- b940[str6, console]
  t13 <- load32((t1))
  t14 <- b697[console, 32, t13]
  t15 <- b940[str7, console]
  t16 <- add((t1, 4))
  t17 <- load32((t16))
  t18 <- b697[console, 32, t17]
  t19 <- b940[str8, console]
  t20 <- add((t1, 8))
  t21 <- load32((t20))
  t22 <- b697[console, 32, t21]
  t23 <- b940[str5, console]
  t24 <- add((t4, 1))
  t25 <- primEq((t6, 0))
  if t25
    then b1025[]
    else b1131[t6, t5, 12, t3, t24]

-----------------------------------------
-- not recursive
str13 :: Bit 32
str13 <- "header"

-----------------------------------------
-- not recursive
initialize :: [] >>= [Unit]
initialize[] =
  t0 <- b918[itoaBuf, 0]
  t1 <- store8((console, 0))
  t2 <- add((console, 1))
  t3 <- store8((t2, 0))
  t4 <- add((console, 2))
  t5 <- store8((t4, 24))
  t6 <- add((console, 3))
  t7 <- store8((t6, 79))
  t8 <- add((console, 4))
  t9 <- store8((t8, 0))
  t10 <- add((console, 5))
  t11 <- store8((t10, 0))
  t12 <- add((console, 6))
  t13 <- store8((t12, 10))
  t14 <- load8((console))
  t15 <- load8((t2))
  t16 <- store8((t8, t14))
  t17 <- store8((t10, t15))
  t18 <- load8((t4))
  t19 <- load8((t6))
  t20 <- load8((t12))
  t21 <- b595[t14, t18, t20, t19, t15]
  t22 <- b940[str0, console]
  t23 <- b940[str12, console]
  t24 <- load32((4096))
  t25 <- load32((t24))
  t26 <- add((t24, 4))
  t27 <- primEq((t25, 0))
  if t27
    then b1025[]
    else b1131[t25, t26, 12, str13, 0]

-----------------------------------------
-- Entrypoints:
