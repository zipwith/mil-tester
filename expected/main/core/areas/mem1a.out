struct S / 16
  [ x :: Stored (Bit 32)  {- offset=0 -}
  | y :: Stored (Bit 32)  {- offset=4 -}
  | z :: Stored (Bit 32)  {- offset=8 -}
  | t :: Stored (Bit 32)  {- offset=12 -} ]
  aligned 4

data Unit
  = Unit

-----------------------------------------
-- not recursive
b131 :: [Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32, Bit 32] >>= [Unit]
b131[t0, t1, t2, t3, t4, t5, t6, t7, t8] =
  t9 <- add((t8, t1))
  t10 <- store32((t9, t0))
  t11 <- add((t8, t3))
  t12 <- store32((t11, t2))
  t13 <- add((t8, t5))
  t14 <- store32((t13, t4))
  t15 <- add((t8, t7))
  store32((t15, t6))

-----------------------------------------
-- not recursive
entrypoint init :: [Bit 32] >>= [Unit]
init[t0] =
  b131[10, 0, 9, 4, 19, 8, 94, 12, t0]

-----------------------------------------
-- not recursive
entrypoint readX :: [Bit 32] >>= [Bit 32]
readX[t0] =
  load32((t0))

-----------------------------------------
-- not recursive
entrypoint readY :: [Bit 32] >>= [Bit 32]
readY[t0] =
  t1 <- add((t0, 4))
  load32((t1))

-----------------------------------------
-- not recursive
entrypoint readZ :: [Bit 32] >>= [Bit 32]
readZ[t0] =
  t1 <- add((t0, 8))
  load32((t1))

-----------------------------------------
-- not recursive
entrypoint readT :: [Bit 32] >>= [Bit 32]
readT[t0] =
  t1 <- add((t0, 12))
  load32((t1))

-----------------------------------------
-- not recursive
entrypoint writeX :: [Bit 32, Bit 32] >>= [Unit]
writeX[t0, t1] =
  store32((t0, t1))

-----------------------------------------
-- not recursive
entrypoint writeY :: [Bit 32, Bit 32] >>= [Unit]
writeY[t0, t1] =
  t2 <- add((t0, 4))
  store32((t2, t1))

-----------------------------------------
-- not recursive
entrypoint writeZ :: [Bit 32, Bit 32] >>= [Unit]
writeZ[t0, t1] =
  t2 <- add((t0, 8))
  store32((t2, t1))

-----------------------------------------
-- not recursive
entrypoint writeT :: [Bit 32, Bit 32] >>= [Unit]
writeT[t0, t1] =
  t2 <- add((t0, 12))
  store32((t2, t1))

-----------------------------------------
-- not recursive
s1 :: Bit 32
s1 <- area S aligned 16

-----------------------------------------
-- not recursive
s3 :: Unit
s3 <-
  Unit()

-----------------------------------------
-- not recursive
b123 :: [Bit 32] >>= [Unit]
b123[t0] =
  t1 <- load32((t0))
  [] <- printWord((t1))
  t2 <- add((t0, 4))
  t3 <- load32((t2))
  [] <- printWord((t3))
  t4 <- add((t0, 8))
  t5 <- load32((t4))
  [] <- printWord((t5))
  t6 <- add((t0, 12))
  t7 <- load32((t6))
  [] <- printWord((t7))
  return s3

-----------------------------------------
-- not recursive
s2 :: Bit 32
s2 <- area S aligned 16

-----------------------------------------
-- not recursive
entrypoint main :: [] >>= [Unit]
main[] =
  t0 <- b123[s1]
  t1 <- b123[s2]
  t2 <- load32((s1))
  t3 <- add((s1, 4))
  t4 <- load32((t3))
  t5 <- add((s2, 12))
  t6 <- add((t2, t4))
  t7 <- store32((t5, t6))
  b123[s2]

-----------------------------------------
-- not recursive
entrypoint display :: [Bit 32] >>= [Unit]
display[t0] =
  b123[t0]

-----------------------------------------
-- not recursive
initialize :: [] >>= [Unit]
initialize[] =
  t0 <- b131[10, 0, 9, 4, 19, 8, 94, 12, s1]
  b131[10, 0, 9, 4, 19, 8, 94, 12, s2]

-----------------------------------------
-- Entrypoints: init readX readY readZ readT writeX writeY writeZ writeT main display
