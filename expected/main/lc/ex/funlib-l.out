define i32 @itfac(i32 %r0) {
  br label %itfac

itfac:
  %r1 = icmp eq i32 %r0, 0
  br i1 %r1, label %b127, label %b73

b127:
  ret i32 1

b73:
  %r6 = phi i32 [1, %itfac], [%r5, %b73]
  %r4 = phi i32 [%r0, %itfac], [%r3, %b73]
  %r5 = mul i32 %r6, %r4
  %r3 = add i32 %r4, -1
  %r2 = icmp eq i32 %r3, 0
  br i1 %r2, label %b74, label %b73

b74:
  ret i32 %r5
}

define i32 @recfac(i32 %r0) {
  br label %recfac

recfac:
  %r1 = icmp eq i32 %r0, 0
  br i1 %r1, label %b89, label %b88

b89:
  ret i32 1

b88:
  %r4 = add i32 %r0, -1
  %r3 = call i32 @recfac(i32 %r4)
  %r2 = mul i32 %r0, %r3
  ret i32 %r2
}

define i32 @itfib(i32 %r0) {
  br label %itfib

itfib:
  %r1 = icmp eq i32 %r0, 0
  br i1 %r1, label %b125, label %b66

b125:
  ret i32 0

b66:
  %r6 = phi i32 [0, %itfib], [%r7, %b66]
  %r7 = phi i32 [1, %itfib], [%r5, %b66]
  %r4 = phi i32 [%r0, %itfib], [%r3, %b66]
  %r5 = add i32 %r6, %r7
  %r3 = add i32 %r4, -1
  %r2 = icmp eq i32 %r3, 0
  br i1 %r2, label %b74, label %b66

b74:
  ret i32 %r7
}

define i32 @fib(i32 %r0) {
  br label %fib

fib:
  %r1 = icmp eq i32 %r0, 0
  br i1 %r1, label %b83, label %b119

b83:
  ret i32 0

b119:
  %r2 = icmp eq i32 %r0, 1
  br i1 %r2, label %b89, label %b80

b89:
  ret i32 1

b80:
  %r7 = add i32 %r0, -1
  %r4 = call i32 @fib(i32 %r7)
  %r6 = add i32 %r0, -2
  %r5 = call i32 @fib(i32 %r6)
  %r3 = add i32 %r4, %r5
  ret i32 %r3
}

