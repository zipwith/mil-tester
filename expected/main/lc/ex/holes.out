struct S / 7
  [ x :: Stored (Bit 32)  {- offset=0 -}
  | y :: Stored (Bit 16)  {- offset=4 -}
  | z :: Stored (Bit 8)  {- offset=6 -} ]
  aligned 4

bitdata T /8
  = A [ x :: Bit 4 | y :: Bit 4 ]
    -- predA(x :: Bit 8) = true

-- bit pattern:
--  ________

-----------------------------------------
-- not recursive
external initW :: Init (Stored (Bit 32))

-----------------------------------------
-- not recursive
external initS :: Init (Stored (Bit 16))

-----------------------------------------
-- not recursive
external initB :: Init (Stored (Bit 8))

-----------------------------------------
-- not recursive
b95 :: [] >>= [Init S]
b95[] =
  t0 <- init_x((initW))
  t1 <- init_y((initS))
  t2 <- primInitSeq((t0, t1))
  t3 <- init_z((initB))
  primInitSeq((t2, t3))

-----------------------------------------
-- not recursive
entrypoint hole161718 :: Init S
hole161718 <-
  b95[]

-----------------------------------------
-- not recursive
b92 :: [Bit 4] >>= [T]
b92[t0] =
  t1 <- T.A(t0, t0)
  A(t1)

-----------------------------------------
-- not recursive
k56 :: {} [Bit 4] ->> [T]
k56{} t0 = b92[t0]

-----------------------------------------
-- not recursive
entrypoint hole15 :: [Bit 4] ->> [T]
hole15 <-
  k56{}

-----------------------------------------
-- not recursive
b89 :: [T, Bit 4] >>= [T]
b89[t0, t1] =
  t2 <- A 0 t0
  t3 <- update_x((t2, t1))
  A(t3)

-----------------------------------------
-- not recursive
k54 :: {T} [Bit 4] ->> [T]
k54{t0} t1 = b89[t0, t1]

-----------------------------------------
-- not recursive
k55 :: {} [T] ->> [[Bit 4] ->> [T]]
k55{} t0 = k54{t0}

-----------------------------------------
-- not recursive
entrypoint hole1314 :: [T] ->> [[Bit 4] ->> [T]]
hole1314 <-
  k55{}

-----------------------------------------
-- not recursive
entrypoint hole19 :: [T] ->> [[Bit 4] ->> [T]]
hole19 <-
  k55{}

-----------------------------------------
-- not recursive
b82 :: [T] >>= [Bit 4]
b82[t0] =
  t1 <- A 0 t0
  T.A 0 t1

-----------------------------------------
-- not recursive
k51 :: {} [T] ->> [Bit 4]
k51{} t0 = b82[t0]

-----------------------------------------
-- not recursive
entrypoint hole12 :: [T] ->> [Bit 4]
hole12 <-
  k51{}

-----------------------------------------
-- not recursive
b78 :: forall (a :: *) (b :: *) (c :: *). [[a] ->> [b], [c] ->> [a], c] >>= [b]
b78[t0, t1, t2] =
  t3 <- t1 @ t2
  t0 @ t3

-----------------------------------------
-- not recursive
k48 :: forall (a :: *) (b :: *) (c :: *). {[a] ->> [b], [b] ->> [c]} [a] ->> [c]
k48{t0, t1} t2 = b78[t1, t0, t2]

-----------------------------------------
-- not recursive
k49 :: forall (a :: *) (b :: *) (c :: *). {[a] ->> [b]} [[c] ->> [a]] ->> [[c] ->> [b]]
k49{t0} t1 = k48{t1, t0}

-----------------------------------------
-- not recursive
k50 :: forall (a :: *) (b :: *) (c :: *). {} [[a] ->> [b]] ->> [[[c] ->> [a]] ->> [[c] ->> [b]]]
k50{} t0 = k49{t0}

-----------------------------------------
-- not recursive
entrypoint polyfoo :: forall (a :: *) (b :: *) (c :: *). [[a] ->> [b]] ->> [[[c] ->> [a]] ->> [[c] ->> [b]]]
polyfoo <-
  k50{}

-----------------------------------------
-- not recursive
b74 :: [Word, Word, Word] >>= [Word]
b74[t0, t1, t2] =
  t3 <- add((t0, t1))
  add((t3, t2))

-----------------------------------------
-- not recursive
k45 :: {Word, Word} [Word] ->> [Word]
k45{t0, t1} t2 = b74[t1, t0, t2]

-----------------------------------------
-- not recursive
k46 :: {Word} [Word] ->> [[Word] ->> [Word]]
k46{t0} t1 = k45{t1, t0}

-----------------------------------------
-- not recursive
k47 :: {} [Word] ->> [[Word] ->> [[Word] ->> [Word]]]
k47{} t0 = k46{t0}

-----------------------------------------
-- not recursive
entrypoint foo :: [Word] ->> [[Word] ->> [[Word] ->> [Word]]]
foo <-
  k47{}

-----------------------------------------
-- Entrypoints: hole161718 hole15 hole1314 hole19 hole12 polyfoo foo
